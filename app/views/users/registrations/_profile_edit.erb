<div>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
      <%= devise_error_messages! %>

      <div class="input-field">
        <%= f.label :name %>
        <%= f.text_field :name, autofocus: true, value: @current_user.name, required: true %>
      </div>

      <% if super_admin? || garage_owner? %>
          <div class="input-field">
            <%= f.label :email %>
            <%= f.email_field :email, autofocus: true, value: @current_user.email, required: true, disabled: false %>
          </div>
      <% end %>

      <div class="input-field">
        <%= f.label :phone %>
        <%= f.text_field :phone, class: "phone-text", autofocus: true, value: @current_user.phone, required: true %>
      </div>

      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
      <% end %>

      <div class="row">
        <div class="col s12 m6">
          <div class="file-field input-field">
            <div class="row">
              <div class="col s1">
                <i id="upload-icon" class="material-icons"><a class="clickable">add_a_photo</a></i><%= f.file_field :avatar %>
              </div>
              <div class="col s11">
                <div class="file-path-wrapper">
                  <input id="upload-text" class="file-path validate truncate" type="text" placeholder="No picture selected"/>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="actions">
        <%= f.submit "Update", class: "btn" %>
      </div>

  <% end %>
</div>